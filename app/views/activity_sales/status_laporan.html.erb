<style>
 /* .modal-backdrop { display: none; }  */
 /* .modal { background: rgba(0,0,0,0.5); }  */
</style>

<div class="container-fluid">
  <%# Rencana %>
  <div class="card shadow mb-4">
    <%# <div class="card-header py-3">
      <h4>Rencana Kunjungan Sales</h4>
      <div class="card-header-form download_wrapper" id="download_wrapper" > %>
      <%# add %>
      <%# </div> %>
    <%# </div> %>
    <div class="card-body">
      <div class="table-responsive">
        <div id="tableExport_wrapper" class="dataTables_wrapper container-fluid dt-bootstrap4 no-footer">
          <table id="dataTable_status_laporans" class="table table-bordered" >  
            <br>  
            <thead>
                <tr>
                  <th></th>
                  <th class="text-center" style="width: 12px;">No</th>
                  <th>Tanggal Aktivitas</th>
                  <th>Nama Entigas</th>
                  <th>Nama Aktivitas</th>
                  <th>Hasil Kunjungan</th>
                  <th>Lampiran</th>
                  <th>Tanggal Review</th>
                  <th>Catatan</th>
                  <th class="text-center" style="width: 100px;">Aksi</th>
                </tr>
            </thead>
            <tbody>
            <% @status_laporan.each_with_index do |status_laporan, index| %>
                <tr>
                  <td class="text-center"><%= index+1 %></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <%# <td><%= status_laporan.nama %>
                  <%# </td> %>
                  <td></td>
                  <td></td>
                  <td></td>
                  </td>
                  <%# <td style="display:none;"><%= status_laporan.estimasi_tgl_peretemuan.strftime("%m") %>
                  <%# </td> %> 
                  <td class="text-center">
                    <% if current_user.can? { |permissions| permissions.status_report.read? } %>
                    <a href="<%= status_report_path(status_laporan) %>" class="btn btn-info btn-circle btn-sm">
                      <i class="fas fa-eye"></i>
                    </a>
                    <% end %>
                    <% if current_user.can? { |permissions| permissions.status_report.update? } %>
                    <a href="<%= edit_status_report_path(status_laporan) %>" class="btn btn-warning btn-circle btn-sm">
                      <i class="fas fa-pencil-alt"></i>
                    </a>
                    <% end %>
                    <% if current_user.can? { |permissions| permissions.status_report.destroy? } %>
                    <a href="<%= status_report_path(status_laporan) %>" class="btn btn-danger btn-circle btn-sm" data-method="DELETE" data-confirm="Are you sure?">
                      <i class="fas fa-trash-alt"></i>
                    </a>
                    <% end %>
                  </td>
                </tr>
                <% end %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>  
</div>


<script>
        $(document).ready(function() {
        // rencana
        var table1 = $('#dataTable_status_laporans').DataTable({ 
          paging: false,
          // ordering: false,
          // info: false,
              buttons: [
                {
                    extend: 'collection',
                    className: "btn btn-primary",
                    text: '-- Download --',
                    fieldSeparator: ';',
                    buttons: [
                        { 
                            className: "my-1",
                            extend: 'excel',
                          
                          //   exportOptions: {
                          //   rows: { selected: true }
                          // }
                        },
                        {
                            className: "my-1",
                            extend: 'pdf',
                            // title: 'My title' + '\n' + 'a new line', // judul folder
                             // custom format add text,dll
                            // customize: function(doc) {
                            //   doc.styles.title = {
                            //     color: 'red',
                            //     fontSize: '40',
                            //     background: 'blue',
                            //     alignment: 'center'
                            //   }   
                            // }
                        }
                        
                        // {
                        //     collectionTitle: 'Visibility control',
                        //     extend: 'colvis'
                        // }
                    ]
                }
              ],
              // columnDefs: [
              //   {
              //       targets: 0,
              //       checkboxes: {
              //         selectRow: true
              //       }
              //   }
              // ],
              // select: {
              //   style: 'multi'
              // },
              // order: [[1, 'asc']]
          });

          table1.buttons()
          .container()
          .appendTo( '#dataTable_status_laporans_wrapper .col-md-6:eq(0)');
          
         

    });
</script>
